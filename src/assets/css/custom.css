@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Nunito+Sans:wght@400;500;600&family=Lato:wght@400;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Botões responsivos */
  .btn-primary {
    @apply bg-azul-profundo text-branco px-4 py-2 xs:px-6 xs:py-3 rounded-lg font-semibold 
           hover:bg-opacity-90 transition-all duration-200 
           focus:ring-2 focus:ring-azul-profundo focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed
           text-sm xs:text-base;
  }
  
  .btn-secondary {
    @apply bg-verde-medicina text-branco px-4 py-2 xs:px-6 xs:py-3 rounded-lg font-semibold 
           hover:bg-opacity-90 transition-all duration-200
           focus:ring-2 focus:ring-verde-medicina focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed
           text-sm xs:text-base;
  }
  
  /* Cards responsivos */
  .card {
    @apply bg-branco rounded-xl shadow-sm border border-gray-100 
           p-4 xs:p-6;
  }
  
  /* Inputs responsivos */
  .input-field {
    @apply w-full px-3 py-2 xs:px-4 xs:py-3 border border-gray-300 rounded-lg 
           focus:ring-2 focus:ring-azul-profundo focus:border-azul-profundo
           transition-colors duration-200 text-base min-h-[44px];
  }
  
  /* Tabelas responsivas */
  .table-header {
    @apply bg-cinza-claro text-azul-profundo font-semibold 
           px-2 py-2 xs:px-4 xs:py-3 text-left text-sm xs:text-base;
  }
  
  .table-cell {
    @apply px-2 py-2 xs:px-4 xs:py-3 border-b border-gray-200 text-gray-900
           text-sm xs:text-base;
  }
  
  /* Tabela responsiva com scroll horizontal */
  .table-responsive {
    @apply overflow-x-auto -mx-4 xs:mx-0;
  }
  
  .table-responsive table {
    @apply min-w-full;
  }
  
  /* Status badges responsivos */
  .status-badge {
    @apply px-2 py-1 xs:px-3 rounded-full text-xs xs:text-sm font-medium;
  }
  
  .status-ativo {
    @apply bg-verde-medicina bg-opacity-20 text-verde-medicina;
  }
  
  .status-inativo {
    @apply bg-gray-200 text-gray-700;
  }
  
  /* Container responsivo */
  .container-responsive {
    @apply w-full mx-auto px-4 xs:px-6 sm:px-8 
           max-w-container-xs xs:max-w-container-sm sm:max-w-container-md 
           md:max-w-container-lg lg:max-w-container-xl xl:max-w-container-2xl 
           2xl:max-w-container-3xl;
  }
  
  /* Grid responsivo */
  .grid-responsive-cards {
    @apply grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 xs:gap-6;
  }
  
  .grid-responsive-stats {
    @apply grid grid-cols-2 md:grid-cols-4 gap-3 xs:gap-4 md:gap-6;
  }
  
  /* Navegação responsiva */
  .nav-responsive {
    @apply flex flex-col xs:flex-row space-y-2 xs:space-y-0 xs:space-x-4 
           overflow-x-auto xs:overflow-x-visible;
  }
  
  .nav-item {
    @apply px-3 py-2 rounded-md text-sm font-medium 
           hover:bg-white hover:bg-opacity-10 transition-colors
           whitespace-nowrap min-w-max;
  }
  
  /* Modal responsivo */
  .modal-responsive {
    @apply mx-4 xs:mx-auto w-full xs:max-w-lg md:max-w-2xl lg:max-w-4xl;
  }
  
  /* Header responsivo */
  .header-responsive {
    @apply flex flex-col xs:flex-row justify-between items-start xs:items-center 
           space-y-4 xs:space-y-0 space-x-0 xs:space-x-4;
  }
  
  /* Texto responsivo */
  .text-responsive-title {
    @apply text-lg xs:text-xl md:text-2xl lg:text-3xl font-bold;
  }
  
  .text-responsive-subtitle {
    @apply text-base xs:text-lg md:text-xl font-semibold;
  }
  
  /* Espaçamentos responsivos */
  .spacing-responsive-section {
    @apply py-4 xs:py-6 md:py-8;
  }
  
  .spacing-responsive-element {
    @apply mb-4 xs:mb-6 md:mb-8;
  }
}

/* Garantindo contraste 7:1 para acessibilidade WCAG 2.1 AA */
@layer base {
  /* Cores com contraste 7:1 ou superior */
  .text-high-contrast {
    color: #1a1a1a; /* Contraste 15.3:1 com branco */
  }
  
  .text-accessible-primary {
    color: #1e3a5f; /* Contraste 8.2:1 com branco */
  }
  
  .bg-accessible-primary {
    background-color: #1e3a5f; /* Versão mais escura do azul profundo */
    color: #ffffff; /* Contraste 8.2:1 */
  }
  
  .bg-accessible-success {
    background-color: #5a8f3a; /* Verde mais escuro para contraste 7:1 */
    color: #ffffff;
  }
  
  .text-accessible-success {
    color: #5a8f3a; /* Verde mais escuro para contraste 7:1 */
  }
  
  /* Garantir tamanho mínimo de 16px para todos os textos */
  html {
    font-size: 16px;
  }
  
  /* Altura mínima de 44px para elementos interativos (WCAG 2.1 AA) */
  button,
  input,
  select,
  textarea,
  a[role="button"],
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Classe para screen readers */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Classe para mostrar apenas no foco (skip links) */
.sr-only-focusable:focus {
  position: static !important;
  width: auto !important;
  height: auto !important;
  padding: 0.5rem 1rem !important;
  margin: 0 !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: normal !important;
  background-color: #1e3a5f !important;
  color: #ffffff !important;
  text-decoration: none !important;
  z-index: 9999 !important;
}

/* Focus visível para navegação por teclado - WCAG 2.1 AA */
.focus-visible,
*:focus-visible {
  outline: 3px solid #1e3a5f !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px #ffffff, 0 0 0 5px #1e3a5f !important;
}

/* Estados de foco para elementos interativos */
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
[tabindex]:focus-visible {
  outline: 3px solid #1e3a5f !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px #ffffff, 0 0 0 5px #1e3a5f !important;
}

/* Remover outline padrão apenas quando focus-visible está disponível */
button:focus:not(:focus-visible),
input:focus:not(:focus-visible),
select:focus:not(:focus-visible),
textarea:focus:not(:focus-visible),
a:focus:not(:focus-visible) {
  outline: none;
}

/* Estados hover acessíveis */
button:hover,
a:hover,
[role="button"]:hover {
  text-decoration: underline;
}

/* Indicadores de estado para screen readers */
.loading-indicator::before {
  content: "Carregando...";
  @apply sr-only;
}

.error-indicator::before {
  content: "Erro:";
  @apply sr-only;
}

.success-indicator::before {
  content: "Sucesso:";
  @apply sr-only;
}

/* Melhor contraste para placeholders */
::placeholder {
  color: #6b7280 !important; /* Contraste 7:1 com branco */
  opacity: 1;
}

/* Estilos para elementos desabilitados */
button:disabled,
input:disabled,
select:disabled,
textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Indicadores visuais para campos obrigatórios */
.required-field::after {
  content: " *";
  color: #dc2626;
  font-weight: bold;
}

/* Estilos para mensagens de erro acessíveis */
.error-message {
  color: #dc2626 !important; /* Contraste 7:1 com branco */
  font-weight: 500;
}

.error-message::before {
  content: "⚠ ";
  font-weight: bold;
}

/* Estilos para mensagens de sucesso acessíveis */
.success-message {
  color: #5a8f3a !important; /* Contraste 7:1 com branco */
  font-weight: 500;
}

.success-message::before {
  content: "✓ ";
  font-weight: bold;
}

/* Melhor visibilidade para links */
a {
  text-decoration: underline;
  text-underline-offset: 2px;
}

a:hover {
  text-decoration-thickness: 2px;
}

/* Estilos para tabelas acessíveis */
table {
  border-collapse: collapse;
}

th {
  text-align: left;
  font-weight: 600;
}

/* Indicadores de ordenação para tabelas */
.sortable-header {
  cursor: pointer;
  position: relative;
}

.sortable-header::after {
  content: "↕";
  position: absolute;
  right: 8px;
  opacity: 0.5;
}

.sortable-header.sort-asc::after {
  content: "↑";
  opacity: 1;
}

.sortable-header.sort-desc::after {
  content: "↓";
  opacity: 1;
}

/* Melhor contraste para bordas */
.border-accessible {
  border-color: #6b7280 !important;
}

/* Animações respeitando preferências do usuário */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Alto contraste para usuários que preferem */
@media (prefers-contrast: high) {
  * {
    border-color: #000000 !important;
  }
  
  .card {
    border-width: 2px !important;
  }
  
  button,
  input,
  select,
  textarea {
    border-width: 2px !important;
  }
}